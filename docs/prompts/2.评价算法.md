设计评分算法是这款游戏的“画龙点睛”之笔。既然这款游戏的主题是**“系统化使命张力”**，评分系统就不应仅仅是“你赢了”或“你输了”，而应是对玩家作为“管家”忠心程度的多维度评估。

根据【MVP 规格文档】和核心设计哲学，我为你编写了一套**“使命忠心度评估算法” (Mission Faithfulness Evaluation Algorithm)**。

---

## 一、 评分维度与权重分配

我们要平衡“成果”与“过程”，建议权重如下：

| 维度                             | 权重 | 计算逻辑                              | 含义                                     |
| -------------------------------- | ---- | ------------------------------------- | ---------------------------------------- |
| **教会成熟度 (Church Maturity)** | 40%  | 所有城市 `stability` 的平均值         | 宣教行动的最终果子。                     |
| **使命韧性 (Resilience)**        | 20%  | `(总受到的逼迫 / 导致健康下降的比例)` | 在逆境中维持教会稳定能力。               |
| **资源管家指数 (Stewardship)**   | 15%  | `(剩余体力 + 剩余物资) / 初始总量`    | 管理资源的效率，是否过度透支。           |
| **忠心指数 (Faithfulness)**      | 25%  | **隐藏分**。根据特定高压决策加分      | 在逼迫 > 70 时依然选择“公开讲道”的次数。 |

---

## 二、 核心算法公式

你可以要求 Kimi 使用以下伪代码逻辑来实现最终结算：

> **注意：** 历史固定结局决定了你一定会到达罗马。所以，评分的高低不决定“生死”，只决定你到达罗马时的**“状态描述”**。

---

## 三、 结局评价体系（The Verdicts）

根据 `FinalScore` (0-100)，给玩家不同的历史评价：

- **90 - 100：【至死忠心的使徒】**
- _文案：_ “你到达了罗马，身上带着基督的印记。你在亚细亚和欧洲建立的教会稳固如磐石，同工们视你为榜样。你打过了那美好的仗。”

- **70 - 89：【劳苦的福音先锋】**
- _文案：_ “尽管路途艰辛，身体衰弱，但你成功地在关键城市扎下了真理的根。书信成为了你留给后世最宝贵的财富。”

- **40 - 69：【疲惫的守望者】**
- _文案：_ “你到达了罗马，但心中充满了忧虑。部分城市的教会因缺乏教导而动摇。你尽力了，但资源匮乏让你步履维艰。”

- **0 - 39：【被围困的独行者】**
- _文案：_ “你几乎是孤身一人到达罗马。虽然完成了旅程，但身后的教会网络支离破碎。这趟旅程对你而言是一场惨烈的生还。”

---

> “请在 `GameEngine` 类中增加一个 `calculate_final_score` 方法：
>
> 1. **数据累积：** 在游戏全程记录 `total_faithfulness_points`（当逼迫值高时选择高风险行动则加分）。
> 2. **计算平均值：** 记录每个城市离开时的 `stability` 最终值。
> 3. **计算剩余比：** 游戏结束时结算 `stamina` 和 `provision` 的百分比。
> 4. **逻辑输出：** 根据总分公式，匹配对应的评价文案（至死忠心/劳苦先锋/疲惫守望者/独行者），并在玩家到达终点站‘罗马’时展示评分面板。”
